id: fsk_agc
label: AGC block001
category: "[FSK]"

templates:
  imports: import fsk
  make: fsk.agc(${ref}, ${max_gain},${slices},${fsamp},${drate},${packet_len},${gain}, ${'self.set_' + context.get('updated_gain')() })

parameters:
  - id: ref
    label: Reference
    dtype: float
  - id: max_gain
    label: Gain maximum
    dtype: int
  - id: slices
    label: Slice Number
    dtype: int
  - id: fsamp
    label: Sampling Frequency
    dtype: float
  - id: drate
    label: Data Rate
    dtype: float
  - id: packet_len
    label: Packet length (bytes)
    dtype: int
  - id: gain
    label : Initial RX Gain
    dtype : int
  - id: updated_gain
    label: Updated Rx Gain
    dtype: string

inputs:
  - label : Input
    dtype : complex

outputs:
  - label: Output
    dtype: complex

#  'file_format' specifies the version of the GRC yml format used in the file
#  and should usually not be changed.
file_format: 1